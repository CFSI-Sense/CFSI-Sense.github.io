<!DOCTYPE html>
<html>

<head>


<style> 


.flex-container {
    display: -webkit-flex;
    display: flex;  
    text-align: center;
	width: 400px;
    height: 150px;
}

.flex-container > * {
    padding: 15px;
    -webkit-flex: 1 100%;
    flex: 1 100%;
}

.article {
    text-align: left;
}

.spend-item {
	font-size: 40px;
    background-color: #903a91;
	color:white;
    width: 50px;
    height: 100px;
    margin: 10px;
}

.save-item {
	font-size: 40px;
    background-color: #f6a031;
	color:white;
    width: 50px;
    height: 100px;
    margin: 10px;
}

.borrow-item {
	font-size: 40px;
    background-color: #3686c6;
	color:white;
    width: 50px;
    height: 100px;
    margin: 10px;
}

.plan-item {
	font-size: 40px;
    background-color: #91c43e;
	color:white;
    width: 50px;
    height: 100px;
    margin: 10px;
}

.total-item {
	font-size: 40px;
    background-color: #60636a;
	color:white;
    width: 50px;
    height: 100px;
    margin: 10px;
}




header {background: black;color:white;}
footer {background: #aaa;color:white;}
.nav {background:#eee;}

.nav ul {
    list-style-type: none;
    padding: 0;
}
.nav ul a {
    text-decoration: none;
}

@media all and (min-width: 768px) {
    .nav {text-align:left;-webkit-flex: 1 auto;flex:1 auto;-webkit-order:1;order:1;}
    .article {-webkit-flex:5 0px;flex:5 0px;-webkit-order:2;order:2;}
    footer {-webkit-order:3;order:3;}
}
</style>
</head>

<div class="flex-container">
  <div class="total-item">Financial Health Score:  <span id="total">.</span></div>
</div>

<div class="flex-container">
<div class="spend-item">Spend:    <span id="spend">.</span></div>
<div class="save-item">Save:      <span id="save">.</span></div>
</div>

<div class="flex-container">
<div class="borrow-item">Borrow:    <span id="borrow">.</span></div> 
<div class="plan-item">Plan:  <span id="plan">.</span></div> 
</div>

<script type="text/javascript">
//Snippet to perform a vlookup
Array.prototype.vlookup = function(needle,index,exactmatch){
    index = index || 0;
    exactmatch = exactmatch || false;
    for (var i = 0; i < this.length; i++){
        var row = this[i];

        if ((exactmatch && row[0]===needle) || row[0].toLowerCase().indexOf(needle.toLowerCase()) !== -1)
            return (index < row.length ? row[index] : row);
    }
    return null;
}
//Snippet to parse parameters from url
function getQueryVariable(variable)
{
  var query = window.location.search.substring(1);
  var vars = query.split("&");
  for (var i=0;i<vars.length;i++) {
    var pair = vars[i].split("=");
    if(pair[0] == variable){return pair[1];}
  }
  return(false);
}  
var q1 = getQueryVariable("q1");
var q2 = getQueryVariable("q2");
var q3 = getQueryVariable("q3");
var q4 = getQueryVariable("q4");
var q5 = getQueryVariable("q5");
var q6 = getQueryVariable("q6");
var q7 = getQueryVariable("q7");
var q8 = getQueryVariable("q8");

var q1 = [
  ["Generally spend much less than my income",			100],
  ["Generally spend a little less than my income",		75],
  ["Generally spend about equal to my income",			50],
  ["Generally spend a little more than my income",		25],
  ["Generally spend much more than my income",			0]
];


var q2 = [
  ["Pay all of my bills and credit commitments on time and in full",100  ],
  ["Pay most of my bills and credit commitments on time and in full",80  ],
  ["Pay some of my bills and credit commitments on time and in full",60  ],
  ["Do not pay any of my bills and credit commitments on time and in full",20  ]
];

var q3 = [
  ["More than 6 months",100  ],
  ["4 - 6 months",80  ],
  ["1 - 3 months",70  ],
  ["2 weeks -3 weeks",60  ],
  ["Less than 2 weeks",20  ]
];

var q4 = [
  ["Very confident",100  ],
  ["Somewhat confident",62  ],
  ["Only slightly confident",62  ],
  ["Not at all confident",25  ]
];

var q5 = [
  ["Do not have any debt",100  ],
  ["Have about the right amount of debt",100  ],
  ["Have a bit too much debt",67  ],
  ["Have an excessive amount of debt",33  ]
];

var q6 = [
  ["Excellent ",100  ],
  ["Good",90  ],
  ["Fair",60  ],
  ["Poor ",40  ],
  ["Very Poor",0  ],
  ["I don’t know what my score is",0  ]
];

var q7 = [
  ["Very confident",100  ],
  ["Somewhat confident",100  ],
  ["Only slightly confident",50  ],
  ["Not at all confident",25  ],
  ["I don’t have insurance",0  ],
  ["I don’t know",25  ]
];

var q8 = [
  ["Yes"," my household plans ahead for large expenses",100  ],
  ["No"," my household doesn’t plan ahead for large expenses ",50],
  ["We would plan ahead if we could",70  ],
  ["We do not need to plan ahead because there is always enough money in the bank account to pay for large expenses",85]
];


var q1num=q1.vlookup('Generally spend much less than my income',1);
var q2num=q2.vlookup('Pay most of my bills and credit commitments on time and in full',1);
var q3num=q3.vlookup('4 - 6 months',1);
var q4num=q4.vlookup('Very confident',1);
var q5num=q5.vlookup('Do not have any debt',1);
var q6num=q6.vlookup('Good',1);
var q7num=q7.vlookup('Very confident',1);
var q8num=q8.vlookup('We would plan ahead if we could',1);

var spend=(q1num + q2num)/ 2;
var save=(q3num + q4num)/ 2;
var borrow=(q5num + q6num)/ 2;
var plan=(q7num + q8num)/ 2;
var total=(spend + save + borrow + plan)/ 4;

document.getElementById("spend").innerHTML = spend;
document.getElementById("save").innerHTML = save;
document.getElementById("borrow").innerHTML = borrow;
document.getElementById("plan").innerHTML = plan;
document.getElementById("total").innerHTML = total;
</script>


</html>
